/** 
* Package: markrabey 
* Author: Mark Rabey 
* Build Time: 2014-08-05 16:34:58  
*/
function getCurrentPostTitle(a){"."!=a[0]&&(a="."+a);var b=$(a).text();return b.length<1&&this.reportError("Couldn't find the post title with class: "+a),b}function getCurrentPostTags(a){"."!=a[0]&&(a="."+a);var b=[];return $(a+" a").each(function(){b.push($(this).text())}),b.length<1&&this.reportError("Couldn't find any tags in this post"),b}function matchByTag(a,b){var c=[];return b.forEach(function(b){var d=!1;b.tags.forEach(function(e){a.forEach(function(a){a.toLowerCase()!==e.toLowerCase()||d||(c.push(b),d=!0)})})}),c.length<1&&this.reportError("There are no closely related posts"),c}$(document).ready(function(){$("div#related-posts").css("text-align","center").html('<i class="fa fa-spinner fa-spin fa-5x"></i>'),$.get("/rss",function(a){for(var b=[],c=$(a).find("item"),d=0;d<c.length;d++){var e=c.eq(d);e.find("title").text()!==getCurrentPostTitle(".post-title")&&b.push({title:e.find("title").text(),url:e.find("link").text(),content:e.find("description").text(),tags:$.map(e.find("category"),function(a){return $(a).text()})})}var f=matchByTag(getCurrentPostTags(".post-tags"),b),g=0;$("div#related-posts").css("text-align","left").html("<ul></ul>");var h=$("div#related-posts ul");f.forEach(function(a){console.log(a),4>g&&$(h).append($('<li><a href="'+a.url+'">'+a.title+"</a></li>")),g++}),0==g&&$(h).append($('<p>No related posts were found. Check the <a href="/">index</a>.</p>'))})}),function(a){"use strict";a(document).ready(function(){function b(){a("img").each(function(){var b=a(".post-content").outerWidth(),c=a(this)[0].naturalWidth;c>=b?a(this).addClass("full-img"):a(this).removeClass("full-img")})}a(".post-content").fitVids(),b(),a(window).smartresize(b)})}(jQuery),function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize");